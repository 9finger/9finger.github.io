<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><title>CTF线下赛环境模拟 | 九指</title><meta name="description" content="CTF线下赛环境模拟"><meta name="keywords" content="比赛"><meta name="author" content="九指"><meta name="copyright" content="九指"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.ico"><link rel="preconnect" href="//cdn.jsdelivr.net"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="CTF线下赛环境模拟"><meta name="twitter:description" content="CTF线下赛环境模拟"><meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png"><meta property="og:type" content="article"><meta property="og:title" content="CTF线下赛环境模拟"><meta property="og:url" content="/2018/04/04/CTF%E7%BA%BF%E4%B8%8B%E8%B5%9B%E7%8E%AF%E5%A2%83%E6%A8%A1%E6%8B%9F/"><meta property="og:site_name" content="九指"><meta property="og:description" content="CTF线下赛环境模拟"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>const autoChangeMode = 'false'
var t = Cookies.get("theme");
if (autoChangeMode == '1'){
const isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
const isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
const isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

if (t === undefined){
  if (isLightMode) activateLightMode()
  else if (isDarkMode) activateDarkMode()
  else if (isNotSpecified || hasNoSupport){
    console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
    now = new Date();
    hour = now.getHours();
    isNight = hour < 6 || hour >= 18
    isNight ? activateDarkMode() : activateLightMode()
}
} else if (t == 'light') activateLightMode()
else activateDarkMode()


} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="canonical" href="/2018/04/04/CTF%E7%BA%BF%E4%B8%8B%E8%B5%9B%E7%8E%AF%E5%A2%83%E6%A8%A1%E6%8B%9F/"><link rel="prev" title="XSS攻击的三种基本形式解析" href="/2018/04/20/XSS%E6%94%BB%E5%87%BB%E7%9A%84%E4%B8%89%E7%A7%8D%E5%9F%BA%E6%9C%AC%E5%BD%A2%E5%BC%8F%E8%A7%A3%E6%9E%90/"><link rel="next" title="强网杯" href="/2018/03/26/%E5%BC%BA%E7%BD%91%E6%9D%AF/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  highlight_copy: 'false',
  highlight_lang: 'true',
  highlight_shrink: 'false',
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  bookmark: {
    title: 'Snackbar.bookmark.title',
    message_prev: 'Press',
    message_next: 'to bookmark this page'
  },
  runtime_unit: 'days',
  copyright: undefined,
  copy_copyright_js: false,
  ClickShowText: undefined,
  medium_zoom: 'false',
  Snackbar: undefined
  
}</script><link rel="alternate" href="/atom.xml" title="九指" type="application/atom+xml">
</head><body><div id="header"> <div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">九指</a></span><i class="fa fa-bars fa-fw toggle-menu pull_right close" aria-hidden="true"></i><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> About</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> List</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> Movie</span></a></li></ul></div></div></span><span class="pull_right" id="search_button"></span></div></div><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="lazyload avatar_img" src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/Photo/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'"></div><div class="mobile_post_data"><div class="mobile_data_item is_center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">Articles</div><div class="length_num">51</div></a></div></div><div class="mobile_data_item is_center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">Tags</div><div class="length_num">13</div></a></div></div><div class="mobile_data_item is_center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">Categories</div><div class="length_num">10</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> About</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> List</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> Movie</span></a></li></ul></div></div></div><div id="mobile-sidebar-toc"><div class="toc_mobile_headline">Catalog</div><ol class="toc_mobile_items"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#环境搭建"><span class="toc_mobile_items-number">1.</span> <span class="toc_mobile_items-text">环境搭建</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#php环境配置apache2-php-mysql"><span class="toc_mobile_items-number">2.</span> <span class="toc_mobile_items-text">php环境配置apache2+php+mysql</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#wordpress的搭建"><span class="toc_mobile_items-number">3.</span> <span class="toc_mobile_items-text">wordpress的搭建</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#phpcms-v9的搭建"><span class="toc_mobile_items-number">4.</span> <span class="toc_mobile_items-text">phpcms v9的搭建</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#搭建ssh"><span class="toc_mobile_items-number">5.</span> <span class="toc_mobile_items-text">搭建ssh</span></a></li></ol></div></div><div id="body-wrap"><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true">     </i><div class="auto_open" id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#环境搭建"><span class="toc-number">1.</span> <span class="toc-text">环境搭建</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#php环境配置apache2-php-mysql"><span class="toc-number">2.</span> <span class="toc-text">php环境配置apache2+php+mysql</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#wordpress的搭建"><span class="toc-number">3.</span> <span class="toc-text">wordpress的搭建</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#phpcms-v9的搭建"><span class="toc-number">4.</span> <span class="toc-text">phpcms v9的搭建</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#搭建ssh"><span class="toc-number">5.</span> <span class="toc-text">搭建ssh</span></a></li></ol></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png)"><div id="post-info"><div id="post-title"><div class="posttitle">CTF线下赛环境模拟</div></div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> Created 2018-04-04<span class="post-meta__separator">|</span><i class="fa fa-history" aria-hidden="true"></i> Updated 2019-03-08</time><span class="post-meta__separator mobile_hidden">|</span><span class="mobile_hidden"><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/%E6%AF%94%E8%B5%9B%E6%97%A5%E8%AE%B0/">比赛日记</a></span><div class="post-meta-wordcount"><i class="fa fa-eye post-meta__icon" aria-hidden="true">       </i><span>Post View: </span><span id="busuanzi_value_page_pv"></span></div></div></div></div><div class="layout layout_post" id="content-inner">   <article id="post"><div class="article-container" id="post-content"><p>为了准备之后的线下赛，搭建环境练手前期维护。</p>
<a id="more"></a>


<p>这段时间准备要参加新的比赛了，对于萌新的我，当然想着不要被虐的太惨，于是乎找了师兄们找了他们要了他们之前参加线下赛的源码。好比考前复习一样，所以写了这篇线下赛环境模拟的文章给以后的师弟们看。</p>
<h2 id="环境搭建"><a href="#环境搭建" class="headerlink" title="环境搭建"></a>环境搭建</h2><p>我准备的环境是Linux的Ubuntu16.04版本，是因为想要搭建成一个系统和web端都存在漏洞的环境，搭建一个wordpress的web，和一个phpcms v9的web，一个ssh低权限账户，ubuntu16.04可用脏牛提权（因为只会脏牛提权（捂脸ing））。<br>Ubuntu的搭建<br>点击“Install Ubuntu”<br><img alt data-src="/images/CTF%E7%BA%BF%E4%B8%8B%E8%B5%9B%E7%8E%AF%E5%A2%83%E6%A8%A1%E6%8B%9F/1.png" class="lazyload"></p>
<p>勾选“Download updates while installing Ubuntu”，点击“Continue”;<br><img alt data-src="/images/CTF%E7%BA%BF%E4%B8%8B%E8%B5%9B%E7%8E%AF%E5%A2%83%E6%A8%A1%E6%8B%9F/2.png" class="lazyload"></p>
<p>选择“Erase disk and install Ubuntu”，点击“Install Now”; 在弹出的窗口中选择“Continue”；<br>PS: 因为我们是新安装的系统，且在虚拟机中，所以可以选择“Erase disk and install Ubuntu”<br><img alt data-src="/images/CTF%E7%BA%BF%E4%B8%8B%E8%B5%9B%E7%8E%AF%E5%A2%83%E6%A8%A1%E6%8B%9F/3.png" class="lazyload"></p>
<p>点击地图上的中国的位置，会默认弹出上海的时区，因为中国所有地区都是使用同一个时区，所以上海的就OK了。点击“Continue”；<br><img alt data-src="/images/CTF%E7%BA%BF%E4%B8%8B%E8%B5%9B%E7%8E%AF%E5%A2%83%E6%A8%A1%E6%8B%9F/4.png" class="lazyload"></p>
<p>选择键盘布局，点击“Continue”；<br><img alt data-src="/images/CTF%E7%BA%BF%E4%B8%8B%E8%B5%9B%E7%8E%AF%E5%A2%83%E6%A8%A1%E6%8B%9F/5.png" class="lazyload"></p>
<p>设置电脑名称和账号密码，点击即可开始安装系统。<br><img alt data-src="/images/CTF%E7%BA%BF%E4%B8%8B%E8%B5%9B%E7%8E%AF%E5%A2%83%E6%A8%A1%E6%8B%9F/6.png" class="lazyload"><br><img alt data-src="/images/CTF%E7%BA%BF%E4%B8%8B%E8%B5%9B%E7%8E%AF%E5%A2%83%E6%A8%A1%E6%8B%9F/7.png" class="lazyload"></p>
<p>安装完成后会有如下提示，根据提示重启电脑即可。<br><img alt data-src="/images/CTF%E7%BA%BF%E4%B8%8B%E8%B5%9B%E7%8E%AF%E5%A2%83%E6%A8%A1%E6%8B%9F/8.png" class="lazyload"></p>
<p>重启后：<br><img alt data-src="/images/CTF%E7%BA%BF%E4%B8%8B%E8%B5%9B%E7%8E%AF%E5%A2%83%E6%A8%A1%E6%8B%9F/9.png" class="lazyload"></p>
<p>至此，安装完成，开启你的Ubuntu之旅吧！</p>
<h2 id="php环境配置apache2-php-mysql"><a href="#php环境配置apache2-php-mysql" class="headerlink" title="php环境配置apache2+php+mysql"></a>php环境配置apache2+php+mysql</h2><p>PS：这个过程中有重要的一点，下面的安装最后是在root权限下执行，不然就会出现一些问题，很难受。<br>Ubuntu切换到root权限命令如下<br>sudo su</p>
<p>php环境搭建，在终端中输入以下代码,install后面为安装的软件：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-<span class="keyword">get</span> install apache2</span><br><span class="line">sudo add-apt-repository -y ppa:ondrej/php</span><br><span class="line">sudo apt update</span><br><span class="line">sudo apt install  php7.0</span><br><span class="line">sudo apt install -y mysql-server mysql-client</span><br><span class="line">sudo apt-<span class="keyword">get</span> install libapache2-mod-php7.0</span><br><span class="line">sudo apt-<span class="keyword">get</span> install php7.0-mysql</span><br><span class="line">sudo apt-<span class="keyword">get</span> install php7.0-gd</span><br><span class="line">sudo apt-<span class="keyword">get</span> install phpmyadmin</span><br></pre></td></tr></table></figure>
<p>在安装过程中会要求选择Web server：apache2或lighttpd，使用空格键选定apache2，然后确定,下面界面输入你刚才安装Mysql时设置的密码，确定。再确认一次Mysql密码，确定。   然后将phpmyadmin与apache2建立连接，<br>sudo ln -s /usr/share/phpmyadmin  /var/www/html<br><img alt data-src="/images/CTF%E7%BA%BF%E4%B8%8B%E8%B5%9B%E7%8E%AF%E5%A2%83%E6%A8%A1%E6%8B%9F/10.png" class="lazyload"></p>
<h2 id="wordpress的搭建"><a href="#wordpress的搭建" class="headerlink" title="wordpress的搭建"></a>wordpress的搭建</h2><p>我这时候是有师兄给的源码的，本来打算是把wordpress放到/var/www目录下直接就可以访问的，但是这时候www目录有一个锁头，这个文件被锁了。<br>这也是我过程遇到的问题之一。顺便把我解决的方法说一下。<br>首先当然是在终端切换到root权限。<br><img alt data-src="/images/CTF%E7%BA%BF%E4%B8%8B%E8%B5%9B%E7%8E%AF%E5%A2%83%E6%A8%A1%E6%8B%9F/11.png" class="lazyload"></p>
<p>然后修改/var/www的目录权限<br>命令如下</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod <span class="number">777</span> /<span class="keyword">var</span>/www</span><br></pre></td></tr></table></figure>
<p><img alt data-src="/images/CTF%E7%BA%BF%E4%B8%8B%E8%B5%9B%E7%8E%AF%E5%A2%83%E6%A8%A1%E6%8B%9F/12.png" class="lazyload"></p>
<p>权限修改好以后就可以对文件夹内的东西进行任意操作了。我把源码放入/var/www中，然后访问<a href="http://localhost/wp/index.php">http://localhost/wp/index.php</a><br>出现如下：<br><img alt data-src="/images/CTF%E7%BA%BF%E4%B8%8B%E8%B5%9B%E7%8E%AF%E5%A2%83%E6%A8%A1%E6%8B%9F/13.png" class="lazyload"></p>
<p>数据库没连接，当时我百度了一下。百度给出了这个方法。<br><img alt data-src="/images/CTF%E7%BA%BF%E4%B8%8B%E8%B5%9B%E7%8E%AF%E5%A2%83%E6%A8%A1%E6%8B%9F/14.png" class="lazyload"></p>
<p>意思就是创建一个wordpress的数据库，在创建一个数据库账号。在wordpress的配置文件修改，就可以了。<br>我就说说我后来的操作吧。<br>打开终端：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">sudo su                                 #切换到root权限</span><br><span class="line">mysql -u root -p                        #登录数据库 </span><br><span class="line">CREATE DATABASE wordpress;              #创建WordPress的数据库</span><br><span class="line">CREATE USER wordpressadmin@localhost IDENTIFIED BY 'wordpresspassword';     #创建数据库管理员 </span><br><span class="line">GRANT ALL PRIVILEGES ON wordpress.* TO wordpressadmin@localhost;            #将管理权限赋给管理员</span><br><span class="line">FLUSH PRIVILEGES;</span><br><span class="line">exit                                    #刷新权限信息来激活用户权限 </span><br><span class="line">sudo service mysql restart              #重启MySQL</span><br></pre></td></tr></table></figure>

<p>数据库就建立好了。再修改wordpress的配置信息。<br><img alt data-src="/images/CTF%E7%BA%BF%E4%B8%8B%E8%B5%9B%E7%8E%AF%E5%A2%83%E6%A8%A1%E6%8B%9F/15.png" class="lazyload"></p>
<p>访问<a href="http://localhost/wp/wp-admin/install.php，写入内容就可以访问了。">http://localhost/wp/wp-admin/install.php，写入内容就可以访问了。</a><br><img alt data-src="/images/CTF%E7%BA%BF%E4%B8%8B%E8%B5%9B%E7%8E%AF%E5%A2%83%E6%A8%A1%E6%8B%9F/16.png" class="lazyload"></p>
<h2 id="phpcms-v9的搭建"><a href="#phpcms-v9的搭建" class="headerlink" title="phpcms v9的搭建"></a>phpcms v9的搭建</h2><p>同理将源码放入/var/www的目录下。<br>1·打开网http://你的域名/install/index.php<br><img alt data-src="/images/CTF%E7%BA%BF%E4%B8%8B%E8%B5%9B%E7%8E%AF%E5%A2%83%E6%A8%A1%E6%8B%9F/1.jpg" class="lazyload"></p>
<p>2·点击“开始安装”进入下一步环境检测，功能影响，只要是都是绿色的打勾就可以进行下一步安装了。<br><img alt data-src="/images/CTF%E7%BA%BF%E4%B8%8B%E8%B5%9B%E7%8E%AF%E5%A2%83%E6%A8%A1%E6%8B%9F/2.jpg" class="lazyload"></p>
<p>3·全新安装包括phpsso(PHPSSO是用PHP开发的单点登录系统。在接入PHPSSO的多个应用系统中，用户只需要登录一次就可以访问所有相互信任的应用系统)。其他模块根据需要安装。<br><img alt data-src="/images/CTF%E7%BA%BF%E4%B8%8B%E8%B5%9B%E7%8E%AF%E5%A2%83%E6%A8%A1%E6%8B%9F/3.jpg" class="lazyload"></p>
<p>4·列表中所有的目录都必须可写，检测成功点“下一步”继续。<br><img alt data-src="/images/CTF%E7%BA%BF%E4%B8%8B%E8%B5%9B%E7%8E%AF%E5%A2%83%E6%A8%A1%E6%8B%9F/4.jpg" class="lazyload"></p>
<p>5·设置默认数据库连接和管理员帐户。<br><img alt data-src="/images/CTF%E7%BA%BF%E4%B8%8B%E8%B5%9B%E7%8E%AF%E5%A2%83%E6%A8%A1%E6%8B%9F/5.jpg" class="lazyload"></p>
<p>6·安装成功。<br><img alt data-src="/images/CTF%E7%BA%BF%E4%B8%8B%E8%B5%9B%E7%8E%AF%E5%A2%83%E6%A8%A1%E6%8B%9F/6.jpg" class="lazyload"></p>
<p>PS：在第四步可能出现文件权限设置不可写的问题。<br>解决方法：<br>将/var/www/html/phpcms目录所属用户和组修改为apache</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost html]# </span><br><span class="line">[root@localhost html]# pwd</span><br><span class="line">/<span class="keyword">var</span>/www/html</span><br><span class="line">[root@localhost html]# ls </span><br><span class="line">index.php  itop  phpcms</span><br><span class="line">[root@localhost html]# </span><br><span class="line">[root@localhost html]# chown -R apache:apache phpcms/</span><br><span class="line">[root@localhost html]# </span><br><span class="line">[root@localhost html]#</span><br></pre></td></tr></table></figure>

<p>chown: 无效的用户: “apache:apache”<br>ubuntu 默认的apache用户是www-data<br>而centos默认Apache用户是apache</p>
<p>安装成功以后，web就搭建成功了。<br><img alt data-src="/images/CTF%E7%BA%BF%E4%B8%8B%E8%B5%9B%E7%8E%AF%E5%A2%83%E6%A8%A1%E6%8B%9F/20.png" class="lazyload"></p>
<p>在Ubuntu搭建好以后，出现其他局域网内访问不完全的问题。百度一下以后。<br>引用别人的话：<br>局域网得以解决！<br>结论：v9不适合在本机上调试！适合网络调试！<br>原因：本机可以建立环境，但不能完全将V9路径修改为本机IP，具体原因还得官方来解释（测试了N编方法也用了好几种）！</p>
<p>局域网调试方法：本机建立环境，然后在另一台电脑上进行安装，这样生成的路径就是正常的，不会产生localhost或者127.0.0.1这种东西了，调试一切正常！当然你也可以在目标主机上建立环境，在你的电脑上输入目标主机的ip访问安装，这样也行，算是废话！</p>
<p>建议：建议官方能修改下，好多站长没有有力局域网调试环境！本机上不用安装ftp服务了，节省内存！也方便数据转移！<br><img alt data-src="/images/CTF%E7%BA%BF%E4%B8%8B%E8%B5%9B%E7%8E%AF%E5%A2%83%E6%A8%A1%E6%8B%9F/21.png" class="lazyload"></p>
<h2 id="搭建ssh"><a href="#搭建ssh" class="headerlink" title="搭建ssh"></a>搭建ssh</h2><p>1·切换到ROOT，开始更新</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-<span class="keyword">get</span> update</span><br></pre></td></tr></table></figure>

<p>2·安装SSH</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-<span class="keyword">get</span> install openssh-server</span><br></pre></td></tr></table></figure>
<p>3.安装好后查看SSH是否启动<br>打开”终端窗口”，输入”sudo ps -e |grep ssh“–&gt;回车–&gt;有sshd,说明ssh服务已经启动，如果没有启动，输入”sudo service ssh start“–&gt;回车–&gt;ssh服务就会启动</p>
<p>4.使用gedit修改配置文件”/etc/ssh/sshd_config” 获取远程ROOT权限<br>打开”终端窗口”，输入”sudo gedit /etc/ssh/sshd_config“–&gt;回车–&gt;把配置文件中的”PermitRootLogin without-password“加一个”#”号,把它注释掉–&gt;再增加一句”PermitRootLogin yes“–&gt;保存，修改成功</p>
<p>5.查看Ubuntu 16.04的IP地址<br>打开”终端窗口”，输入”sudo ifconfig“–&gt;回车–&gt;就可以查看到IP地址。</p>
<p>6.Xshell访问成功<br><img alt data-src="/images/CTF%E7%BA%BF%E4%B8%8B%E8%B5%9B%E7%8E%AF%E5%A2%83%E6%A8%A1%E6%8B%9F/17.png" class="lazyload"></p>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">九指</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="/2018/04/04/CTF%E7%BA%BF%E4%B8%8B%E8%B5%9B%E7%8E%AF%E5%A2%83%E6%A8%A1%E6%8B%9F/">/2018/04/04/CTF%E7%BA%BF%E4%B8%8B%E8%B5%9B%E7%8E%AF%E5%A2%83%E6%A8%A1%E6%8B%9F/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E6%AF%94%E8%B5%9B/">比赛    </a></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-button"><i class="fa fa-qrcode"></i> Donate<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="lazyload post-qr-code__img" src="/img/wechat.jpg"><div class="post-qr-code__desc">微信</div></li><li class="reward-item"><img class="lazyload post-qr-code__img" src="/img/alipay.jpg"><div class="post-qr-code__desc">支付寶</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2018/04/20/XSS%E6%94%BB%E5%87%BB%E7%9A%84%E4%B8%89%E7%A7%8D%E5%9F%BA%E6%9C%AC%E5%BD%A2%E5%BC%8F%E8%A7%A3%E6%9E%90/"><img class="prev_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">Previous Post</div><div class="prev_info"><span>XSS攻击的三种基本形式解析</span></div></a></div><div class="next-post pull_right"><a href="/2018/03/26/%E5%BC%BA%E7%BD%91%E6%9D%AF/"><img class="next_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">Next Post</div><div class="next_info"><span>强网杯</span></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> Recommend</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2018/03/26/强网杯/" title="强网杯"><img class="relatedPosts_cover lazyload"data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png"><div class="relatedPosts_title">强网杯</div></a></div></div><div class="clear_both"></div></div></div></div><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2018 - 2020 By 九指</div><div class="framework-info"><span>Driven </span><a href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme </span><a href="https://github.com/jerryc127/hexo-theme-butterfly"><span>Butterfly</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="Read Mode"></i><i class="fa fa-plus" id="font_plus" title="Increase font size"></i><i class="fa fa-minus" id="font_minus" title="Decrease font size"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="Traditional Chinese and Simplified Chinese Conversion" target="_self">繁</a><i class="darkmode fa fa-moon-o" id="darkmode" title="Dark Mode"></i></div><div id="rightside-config-show"><div id="rightside_config" title="Setting"><i class="fa fa-cog" aria-hidden="true"></i></div><i class="fa fa-list-ul close" id="mobile-toc-button" title="Table of Contents" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="Back to top" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="/js/tw_cn.js"></script><script>translateInitilization()
</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async=""></script></body></html>